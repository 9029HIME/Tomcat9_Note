# 前言

记得以前在大二时期，学校有一门课程叫“Java Web程序设计”，在当时第一次接触网页制作，利用Tomcat + JSP + Servlet + HTML + CSS + Javascript实现一个简单的网页程序，连数据库操作层也是简单使用JDBCTemplate来实现。在当时，我认为写JSP是一件很折磨的事，单纯一个简单的前端分页功能就写了我整个下午。

再到后来，我接触了Spring、SpringMVC、Mybatis这些框架，为了搭建一个Web程序需要将SpringMVC工程和Tomcat进行整合，各种配置调了好几天。

再到大三，我接触了SpringBoot，仿佛打开了新世界的大门，什么Tomcat配置都帮我做好了，不得不感叹SpringBoot的自动配置很优秀，哪怕后面工作用SpringCloud我也不用管那么多糟心事，仿佛Tomcat不存在一样。

如今工作已3年，**我认为Tomcat（或者其他Servlet容器）才是Java后端程序的本质**，有时候写业务代码我不禁在想很多问题，比如SpringMVC是基于Servlet容器运行的，哪怕我实现一个OncePerRequestFilter交给Spring IOC管理，最终也是交给Tomcat进行处理，Tomcat是怎么实现这些功能的？比如实际项目中我们更多关注JVM的压测调优、MySQL的慢调优，而Tomcat调优却不怎么理会，是Tomcat本身就很优秀了吗？还是我们不了解它的调优策略？比如Tomcat的新版本是基于NIO来处理请求，本身没用到Netty这种网络框架，那它在NIO的基础上有没有做什么优化？起码Tomcat对线程池是做了改造，核心线程数用完后是直接创建非核心线程处理，而不是扔进阻塞队列，除此以外还有其他优化吗？

抱着这些疑问，我决定研究Tomcat的源码，了解它的运行机制和特点，以便于后面的调优；研究Tomcat的架构设计，代码的具体设计模式使用、思想，以便运用在以后的工作上。为了加深我的印象，我决定在后期用Golang手动实现一个Tomcat（这个坑挖的比较早了，不一定有空填）。有了研究Tomcat的基础，说不定对我以后研究Netty源码有一定帮助。